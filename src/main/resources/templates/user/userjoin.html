 <!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <!-- kakao 주소 api -->
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script src="../js/userjoin.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
		$(document).ready(function () {
			// "아이디 중복 확인" 버튼 클릭 시
			$("#user_id_check").click(function (e) {
				e.preventDefault(); // 폼 제출 방지

				let user_id = $("#user_id").val(); // 입력한 사용자 아이디 가져오기

				// Ajax 요청 보내기
				$.ajax({
					type: "POST",
					url: "/userIdCheck", // 컨트롤러의 경로로 해야 한다 광진아!
					data: {user_id: user_id}, // 사용자 아이디를 서버로 전달
					success: function (data) {
						let message = "";
						let textColor = "";

						if (data === 0) {
							// 아이디 중복이 아닌 경우
							message = "사용 가능한 아이디입니다.";
							textColor = "blue"; // 파란 글씨 스타일
							
						} else {
							// 아이디 중복인 경우
							message = "아이디가 중복되었습니다.";
							textColor = "red"; // 빨간 글씨 스타일
						}
						// 메시지와 글씨 색상을 설정
						$("#id_check_message").text(message).css("color", textColor);
					},
					error: function () {
						alert("오류가 발생했습니다.");
					}
				});
			});
		});
	</script>
    <title>사용자 회원가입 페이지</title>
    <link rel="stylesheet" href="../css/userjoin.css">
</head>
<body>
    <h3 style="text-align: center;">사용자 회원가입</h3>
    <!-- 회원가입 페이지 구성-->
    <div class="join-form" >
        <div class="content">
			<form action="userJoinClick" method="post">
                <h3>아이디</h3>
                <input type="text" name="user_id" id="user_id" class="userId_text-field" placeholder="아이디">            
                <!-- 아이디 중복 메시지 출력 영역 -->
                <input type="submit" class="userId_button" id ="user_id_check" value="아이디 중복 확인">
            	<div id="id_check_message"></div>

                <h3>비밀번호</h3>
                <input type="password" name="user_pwd" id="user_pwd" class="text-field" placeholder="비밀번호">

                <h3>비밀번호 확인</h3>
                <input type="password" name="user_repwd" id="user_repwd" class="text-field" placeholder="비밀번호 확인">

                <h3>이름</h3>
                <input type="text" name="user_name" id="user_name" class="text-field" placeholder="이름">
                
                <h3>전화번호</h3>
                <input type="tel" name="user_tel" id="user_tel" class="text-field" placeholder="전화번호">

                <h3>이메일</h3>
                <!-- @까지 DB에 넣을러면 div태그에 name=user_email 해줘야되나 -->
                <input type="text" name="user_email" id="user_email" class="text-field" placeholder="이메일" maxlength="30" >
                
                <h3>주소</h3>          
				<input type="text" id="user_postcode" class="text-field-postcode" placeholder="우편번호">
				<input type="button" onclick="user_execDaumPostcode()" class="button-postcode" value="우편번호 찾기"><br>
				<input type="text" id="user_roadAddress" class="text-field-postcode" placeholder="도로명주소">
				<input type="text" id="user_jibunAddress" class="text-field-postcode" placeholder="지번주소">
				<span id="guide" style="color:#999;display:none"></span>
				<input type="text" id="user_detailAddress" class="text-field-postcode" placeholder="상세주소">
				<input type="text" id="user_extraAddress" class="text-field-postcode" placeholder="참고항목">
				<br />
				<!-- 결과를 출력할 한 줄로 된 주소 필드 -->
				<h3>입력한 주소</h3>
				<input type="text" name="user_addr" id="user_combinedAddress" class="text-field" placeholder="입력한 주소">				
                
                <h3>주민등록번호</h3>
                <input type="tel" name="user_jumin" id="user_jumin" class="text-field" placeholder="주민등록번호">
                <!-- 버튼 -->
                <input type="submit" class="submit-btn" id="btnUserJoin" value="가입하기">
                <input type="reset" class="reset-btn" id="btnreset" value="취소">
            </form>
          </div>
    </div>
</body>
</html>